/*! checklist.jquery 2015-11-29 */
!function(a){"use strict";function b(b,c){var d,e,f;1==c.firstCheckAll?(e=b.next("."+c.prefix+"checklist").find("li:not(:first-child) input[type=checkbox]"),b.next("."+c.prefix+"checklist").find("li:first-child input[type=checkbox]").change(function(){a(this).is(":checked")?(b.find("option").each(function(){a(this).attr("selected","selected")}),b.next("."+c.prefix+"checklist").find("li:not(:first-child) input[type=checkbox]").each(function(){a(this).prop("checked",!0)}),d=b.next("."+c.prefix+"checklist").find("li:first-child").text(),b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(d),f=!0):(b.find("option").each(function(){a(this).removeAttr("selected")}),b.next("."+c.prefix+"checklist").find("input[type=checkbox]").each(function(){a(this).prop("checked",!1)}),b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(""),f=!1),c.first(b,f)})):2==c.firstCheckAll?(e=b.next("."+c.prefix+"checklist").find("li:not(:first-child) input[type=checkbox]"),b.next("."+c.prefix+"checklist").find("li:first-child input[type=checkbox]").change(function(){f=!1,a(this).is(":checked")||0!==e.find(":checked").length?(b.find("option:not(:first-child)").each(function(){a(this).removeAttr("selected")}),b.next("."+c.prefix+"checklist").find("li:not(:first-child) input[type=checkbox]").each(function(){a(this).prop("checked",!1)}),d=b.next("."+c.prefix+"checklist").find("li:first-child").text(),b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(d),f=!0):(b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(""),f=!1),c.first(b,f)})):e=b.next("."+c.prefix+"checklist").find("input[type=checkbox]"),e.each(function(){a(this).change(function(){var e=a(this),f=e.val();e.is(":checked")?(b.find('option[value="'+f+'"]').attr("selected","selected"),(2==c.firstCheckAll||1==c.firstCheckAll)&&b.next("."+c.prefix+"checklist").find("li:first-child input[type=checkbox]").prop("checked",!1)):(b.find('option[value="'+f+'"]').removeAttr("selected"),(2==c.firstCheckAll||1==c.firstCheckAll)&&b.next("."+c.prefix+"checklist").find("li:first-child input[type=checkbox]").prop("checked",!1)),c.optgroup===!0?(d="",b.next().find("input:checked").each(function(){d+=""!==d?", "+a(this).parent().text():a(this).parent().text()}),b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(d)):(d="",b.next().find("input:checked").each(function(){d+=""!==d?", "+a(this).parent().text():a(this).parent().text()}),b.next("."+c.prefix+"checklist").find("."+c.prefix+"label").html(d)),c.change(e,f)})})}function c(c,d){c.children("."+d.prefix+"toggle, ."+d.prefix+"label").click(function(){if(c.children("."+d.prefix+"list").is(":visible"))c.children("."+d.prefix+"list").fadeOut(function(){c.children("."+d.prefix+"toggle").css("background","url(img/v.png) no-repeat 3px 0px").css("backgroundSize","contain"),a("body").unbind("mouseup")});else{if(d.checkedOnTop===!0){var e;(2==d.firstCheckAll||1==d.firstCheckAll)&&(e=c.find("li:first-child").clone(),c.find("li:first-child").remove());var f=c.find("li");f.sort(function(b,c){var d=a(b).html().replace(/<(?:.|\n)*?>/gm,""),e=a(c).html().replace(/<(?:.|\n)*?>/gm,"");return d>e?1:e>d?-1:0}),c.find("ul").empty().append(f),c.find("li").each(function(){if(a(this).children("input").is(":checked")){var b=a(this).clone();a(this).remove(),b.prependTo(c.find("ul"))}}),(2==d.firstCheckAll||1==d.firstCheckAll)&&e.prependTo(c.find("ul")),b(c.prev("select"),d)}c.children("."+d.prefix+"list").fadeIn(function(){c.children("."+d.prefix+"toggle").css("background","url(img/x.png) no-repeat 3px 0px").css("backgroundSize","contain"),a("body").on("mouseup",function(b){var e=c.children("."+d.prefix+"list");e.is(b.target)||0!==e.has(b.target).length||e.fadeOut(function(){a("body").unbind("mouseup")})})})}})}function d(a){var b="<div class='"+a.prefix+"checklist'>";return b+="<div class='"+a.prefix+"label'>&nbsp;",b+="</div>",b+="<ul class='"+a.prefix+"list' >",b+="</ul>",b+="<div class='"+a.prefix+"toggle'>",b+="</div>",b+="</div>"}function e(a,b,c,d){var e;e=d===!0?"checked='checked'":"";var f="<li>";return f+="<input type='checkbox' "+e+" name='"+a+"' value='"+b+"' />",f+=c,f+="</li>"}function f(a,b){var c="<li class='"+b.prefix+"group'>";return c+=a,c+="</li>"}function g(a,b){a.next("."+b.prefix+"checklist").remove()}var h={init:function(g){var h=a.extend({},a.fn.checklist.defaults,g);return this.each(function(){var g=a(this);g.hide().attr("disabled","disabled");var i=d(h);a(i).insertAfter(g);var j=g.next("."+h.prefix+"checklist");c(j,h);var k=g.attr("name");g.find("option").each(function(){var b,c=a(this).html(),d=a(this).val();b=a(this).is(":selected")?!0:!1,i=e(k,d,c,b),j.children("ul").append(i)});var l="";h.optgroup===!0?(g.next().find("input:checked").each(function(){l+=""!==l?", "+a(this).parent().text():a(this).parent().text()}),g.next("."+h.prefix+"checklist").find("."+h.prefix+"label").html(l)):(g.next().find("input:checked").each(function(){l+=""!==l?", "+a(this).parent().text():a(this).parent().text()}),g.next("."+h.prefix+"checklist").find("."+h.prefix+"label").html(l)),b(g,h),h.optgroup===!0&&g.find("optgroup").each(function(){var b=a(this).attr("label");i=f(b,h);var c=a(this).children("option:first-child").val(),d=g.next("."+h.prefix+"checklist").find("input[type=checkbox][value="+c+"]").closest("li");a(i).insertBefore(d)})})},destroy:function(b){var c=a.extend({},a.fn.checklist.defaults,b);g(a(this),c),a("body").unbind("mouseup"),a(this).show()},update:function(b){var c=a.extend({},a.fn.checklist.defaults,b);return g(a(this),c),a("body").unbind("mouseup"),h.init.apply(this,arguments)},select:function(b,c){var d=a.extend({},a.fn.checklist.defaults,c),e=a(this).next("."+d.prefix+"checklist").find("input[type=checkbox][value="+parseInt(b)+"]"),f=a(this).children("option[value="+parseInt(b)+"]");f.is(":selected")?(e.prop("checked",!1).trigger("change"),f.removeAttr("selected")):(e.prop("checked",!0).trigger("change"),f.attr("selected","selected"))},unselectAll:function(b,c){var d=a.extend({},a.fn.checklist.defaults,c),e=a(this).next("."+d.prefix+"checklist"),f=a(this);e.find("ul li").each(function(){a(this).find("input[type=checkbox]").prop("checked",!1).trigger("change");var b=(a(this).find("input[type=checkbox]").val(),f.children("option"));b.removeAttr("selected")})}};a.fn.checklist=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.checklist"):h.init.apply(this,arguments)},a.fn.checklist.defaults={prefix:"ckl-",firstCheckAll:2,first:function(){},optgroup:!0,checkedOnTop:!0,change:function(){}}}(jQuery);